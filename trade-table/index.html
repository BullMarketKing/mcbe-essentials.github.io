<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbcse.png?v=1617477950382">
    <title>Trade Table Editor</title>
    <!--<script>alert("Caves & Cliffs: Part 2 is here! Hooray!\nI haven't had time to update all the items yet. Post-1.17 items do NOT currently show up in the program by default. This will be fixed sometime later this month.\n~Rebb");</script> -->
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/trade-table/style.css">
    
    <!-- import the webpage's javascript file -->
    <script src="/trade-table/script.js" defer></script>
    <script src="/trade-table/filesystem.js" defer></script>
    <script src="/trade-table/customitems.js" defer></script>
    <script type="text/javascript" src="/trade-table/data.js" defer></script>
  </head>  
  <body ondragover="return false" ondrop="return false" onload="includeHTML();"> <!--  importProj(window.localStorage.lastSavedData); -->
    <span style="font-size:2em;">Trade Table Editor</span><span style="font-size:9pt;"> v1.4</span><br>
    <span style="font-size:9pt;">By ReBrainerTV</span><br><br>
    <div id="editor" class="editor">&nbsp;
      <div id="left" class="tradeleft" onclick="blurAll()">
        <div id="tradelist" class="tradelist" meta-data="v2" >
          
          <div class="tradebuttonnew" onclick="addNewItem()" id="newItem">
             <span class="plus">+</span>
             <!-- <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" width="25" height="25" style=" margin-top: 10px;"> -->
          </div>
        </div>
        
      </div>
      <div id="right" class="tradecenter">
        <input class="filename" placeholder="filename" style="text-align:center;" id="filename">
        <div id="textedit" class="texteditor">Wants:
           <br>&nbsp;&nbsp;<input class="underline iteminput" id="wants1" oninput="updateAll(); filterGrid(this.value);" placeholder="item1" value="" style="width: 130px;" onfocus="newTextfocus(this);" onblur="newTextBlur(this)">
           <div class="anchor" id="wants1anchor">
          <div w3-include-html="/trade-table/fullgriddump2.html" style="overflow-y:scroll;overflow-x:hidden;width:245px;background-color:white;text-indent:0;padding:5px;" id="wants1dictionary"></div><span style="background-color:white;" class="iddisplay" id="wants1iddisplay">identifier</span>
          </div>
           &nbsp;x<input placeholder="#" class="countbox wants1c" type="number" oninput="correctCount(this);" id="wants1c" onblur="correctCountV(this);">
           <img width="16" height="16" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fsmithing_icon.png?v=1617472249024" class="smallbutton attributebutton" onclick="selectItemForAttribute('item1', undefined, this)">
           <br>&nbsp;&nbsp;<input class="underline iteminput" id="wants2" oninput="updateAll(); filterGrid(this.value);" placeholder="item2" value="" style="width: 130px;" onfocus="newTextfocus(this);" onblur="newTextBlur(this)"><div class="anchor" id="wants2anchor">
          <div w3-include-html="/trade-table/fullgriddump2.html" style="overflow-y:scroll;overflow-x:hidden;width:245px;background-color:white;text-indent:0;padding:5px;" id="wants2dictionary"></div><span style="background-color:white;" class="iddisplay" id="wants2iddisplay">identifier</span>
          </div>   &nbsp;x<input placeholder="#" class="countbox wants2c" type="number" oninput="correctCount(this);" id="wants2c" onblur="correctCountV(this);"> <img width="16" height="16" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fsmithing_icon.png?v=1617472249024" class="smallbutton attributebutton" onclick="selectItemForAttribute('item2', undefined, this)">
          
          <br><br>Gives:
           <br>&nbsp;&nbsp;<input class="underline iteminput" id="gives" oninput="updateAll(); filterGrid(this.value);" placeholder="result" value="" style="width: 130px;" onfocus="newTextfocus(this)" onblur="newTextBlur(this)">&nbsp;
          <div class="anchor" id="givesanchor"><div id="givesdictionary" w3-include-html="/trade-table/fullgriddump2.html" style="overflow-y:scroll;overflow-x:hidden;width:245px;background-color:white;text-indent:0;padding:5px;"></div><span style="background-color:white;" class="iddisplay" id="givesiddisplay">identifier</span></div>
          x<input placeholder="#" class="countbox givesc" type="number" oninput="correctCount(this);" id="givesc" onblur="correctCountV(this);"> <img width="16" height="16" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fsmithing_icon.png?v=1617472249024" class="smallbutton attributebutton" onclick="selectItemForAttribute('itemresult', undefined, this);">
<br>
          <label style="font-size: 10pt;">Rewards XP: <input type="checkbox" id="givesXPCheckbox" oninput="updateAll();"></label><br>
          <label style="font-size: 10pt;">Max Uses: <input type="number" style="width: 60px;" id="maxUses" oninput="
            if(this.value < -1){this.value = -1;} updateAll();"></label><br>
          <!--<label style="font-size: 10pt;">Price Multiplyer: <input type="number" style="width: 60px;" id="priceMult"></label><br> -->
          <div id="itemtools" class="itemtools">
            <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Ficon_trash.png?v=1616555108211" width="32" height="32" onclick="deleteSelected();" style="image-rendering: pixelated;" class="itemtool">
            <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcopy.png?v=1617471081488" width="32" height="32" onclick="duplicateSelected();" style="image-rendering: pixelated;" class="itemtool">
            <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbook_addtextpage_default.png?v=1616860619853" width="32" height="32" onclick="addItemHere();" style="image-rendering: pixelated; filter: grayscale(100%) brightness(0%);" class="itemtool">
            <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" width="32" height="32" onclick="moveItemUp();" style="image-rendering: pixelated; filter: grayscale(100%) brightness(0%); -webkit-transform: scaleY(-1); transform: scaleY(-1);" class="itemtool">            
            <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Farrow_down_small.png?v=1616861430478" width="32" height="32" onclick="moveItemDown();" style="image-rendering: pixelated; filter: grayscale(100%) brightness(0%);" class="itemtool">

          </div>
          
        </div>
      </div>
      <div id="righteditor" class="traderight" style="display:none;">
        <div style="margin-left:8px;">
          <img style="vertical-align: middle; image-rendering: pixellated;" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fhammer.png?v=1619285884790" width="25"> Attribute Editor<br>
          <input class="newinput" id="customName" style="width: 250px; border: 1px solid black;" placeholder="Custom Item Name" onfocus="this.select();" oninput="updateName();"><br>
          <textarea placeholder="Custom Item Lore: Separate lines with line breaks." id="customLore" class="newinput" style="width: 250px; border: 1px solid black; resize: none; overflow: hidden;" rows="4" oninput="updateLore();"></textarea>
          <br>
          <!--<img style="vertical-align: middle; image-rendering: pixellated;" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fweakness_effect.png?v=1621639155061" width="25"> Durability:<br>-->
          <img style="vertical-align: middle; image-rendering: pixellated;" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fbook.png?v=1619285887129" width="25"> Enchantment Editor<br>
          <div style="overflow:hidden;overflow-y:scroll;height:149.7px;">
      
            <div id="enchlist"></div>
            
          <img width="20" height="20" src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fcolor_plus.png?v=1617471105142" style="image-rendering:pixelated;" onclick="newEnchantment();" class="smallbutton">
          </div>
        </div>
      </div>
    </div>
    <br>
    <div id="toolbar" class="toolbar">
      <!-- <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.onlinewebfonts.com%2Fsvg%2Fimg_145145.png&f=1&nofb=1" class="toolbaricon">
      <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fshare_google.png?v=1616555601091" class="toolbaricon" onclick="exportProj()">
      <img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fdownload_backup.png?v=1616555729997" class="toolbaricon" id="dwn-btn"> -->
      <input type="button" value="New" onclick="location.reload();">
      <input type="button" value="Save" onclick="saveProj()">
      <label><input type="button" value="Load" onclick="document.getElementById('input-file').click();"><input type="file" id="input-file" style="display:none;" accept=".tradeproj"></label>
      <label><input type="button" value="Import" onclick="document.getElementById('input-file2').click();"><input type="file" id="input-file2" style="display:none;" accept=".json"></label> 
     
      <input type="button" value="Export" id="dwn-btn">
      <label><input type="button" value="Custom Item" onclick="document.getElementById('inp').click();"><input id="inp" type="file" style="display:none;" accept=".png"/>
      </label>
      <!--<label style="font-size:9pt;"><input type="checkbox" checked id="dictionnary">Use dictionary</label>-->
        <select id="dictionarytype" style="font-family:Minecraftia;font-size:9pt;">
          <option value="grid">Dictionary Type</option>
          <option value="grid">Grid (default)</option>
          <option value="autofill">List</option>
          <option value="off">Off</option>
        </select>
      <!-- <label style="font-size:9pt;"><input type="checkbox" id="autosearch">Auto-Search</label> -->
    </div> 
    <p>Tips:<br>
      Specify the second item as "empty" if you don't want to use it in your trade.<br>If you want a trade to never run out of uses, set Max Uses to -1.<br>
    </p>
    <span class="red">Use the Import function carefully! The program curently deletes any functions it doesn't use such as "set_data".</span><br><br>
  <div>
    
Please let me know about all bugs that you can find!<br>My discord tag is ReBrainerTV#9659, and you can contact me by joining the <a href="https://discord.com/invite/Maeq5ZtpVk">discord</a> server.
</div>
    <div style="margin-right:auto;margin-left:auto; height: 150px; overflow-y:scroll; width:300px; display:none;">
      <input placeholder="minecraft:search" style="position: sticky; top:0;">
      <table style="margin-right:auto;margin-left:auto;" id="itemsgrid">
        <tr><td><img src="https://cdn.glitch.com/17ff8eee-9239-4ba0-8a5c-9263261550b5%2Fdownload_backup.png?v=1616555729997"></td><td>identifier</td></tr>
      </table>
    </div>
    <div id="datadumpm"></div>
  </body>
</html>

<datalist id="dictionarydata" w3-include-html="/trade-table/datalist.html"></datalist><datalist id="enchants" w3-include-html="/trade-table/enchdatalist.html"></datalist>